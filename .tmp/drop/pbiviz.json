{"visual":{"name":"flatprogress","displayName":"flatprogress","guid":"pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5","visualClassName":"Visual","version":"1.0.0","description":"Flat progress control","supportUrl":"https://github.com/payns75/pbi_flatprogress","gitHubUrl":"https://github.com/payns75/pbi_flatprogress"},"apiVersion":"1.11.0","author":{"name":"Rémy Jacquemin","email":"rjacquemin75@gmail.com"},"assets":{"icon":"assets/icon.png"},"externalJS":["node_modules/powerbi-visuals-utils-dataviewutils/lib/index.js","d3Injector.js"],"style":"style/visual.less","capabilities":{"dataRoles":[{"displayName":"Value","name":"measure","kind":"Measure"},{"displayName":"Objectif","name":"objectif_measure","kind":"Measure"},{"displayName":"Reste à faire","name":"todo_measure","kind":"Measure"},{"displayName":"Pourcentage","name":"prct_measure","kind":"Measure"},{"displayName":"Point de Passage","name":"pt_passage_measure","kind":"Measure"},{"displayName":"Pourcentage Passage","name":"prct_passage_measure","kind":"Measure"}],"dataViewMappings":[{"conditions":[{"measure":{"min":1,"max":1},"objectif_measure":{"max":1},"todo_measure":{"max":1},"prct_measure":{"max":1},"pt_passage_measure":{"max":1},"prct_passage_measure":{"max":1}}],"categorical":{"values":{"select":[{"bind":{"to":"measure"}},{"bind":{"to":"objectif_measure"}},{"bind":{"to":"todo_measure"}},{"bind":{"to":"prct_measure"}},{"bind":{"to":"pt_passage_measure"}},{"bind":{"to":"prct_passage_measure"}}]}}}],"objects":{"dataDisplay":{"displayName":"Data display","properties":{"backColor":{"displayName":"Back color","type":{"fill":{"solid":{"color":true}}}},"fill":{"displayName":"Fill","type":{"fill":{"solid":{"color":true}}}},"bar_height":{"displayName":"Bar height","type":{"numeric":true}},"horizontal_margin":{"displayName":"X margin","type":{"numeric":true}}}},"dataOption":{"displayName":"Data option","properties":{"ptPassage":{"displayName":"Avec pt de passage","type":{"bool":true}},"rstAFaire":{"displayName":"Avec reste à faire","type":{"bool":true}},"prctMode":{"displayName":"Mode %","type":{"bool":true}},"prctMultiPlicateur":{"displayName":"Multi. %","type":{"bool":true}},"calculAuto":{"displayName":"Calcul auto","type":{"bool":true}}}},"realisation":{"displayName":"Réalisation","properties":{"fontFamily":{"displayName":"Font family","type":{"enumeration":[{"displayName":"Default","description":"helvetica, arial, sans-serif","value":"helvetica, arial, sans-serif"},{"displayName":"Arial","value":"Arial"},{"displayName":"Arial Black","value":"\"Arial Black\""},{"displayName":"Arial Unicode MS","value":"\"Arial Unicode MS\""},{"displayName":"Calibri","value":"Calibri"},{"displayName":"Cambria","value":"Cambria"},{"displayName":"Cambria Math","value":"\"Cambria Math\""},{"displayName":"Candara","value":"Candara"},{"displayName":"Comic Sans MS","value":"\"Comic Sans MS\""},{"displayName":"Consolas","value":"Consolas"},{"displayName":"Constantia","value":"Constantia"},{"displayName":"Corbel","value":"Corbel"},{"displayName":"Courier New","value":"\"Courier New\""},{"displayName":"Georgia","value":"Georgia"},{"displayName":"Lucida Sans Unicode","value":"\"Lucida Sans Unicode\""},{"displayName":"Segoe (Bold)","value":"\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Segoe UI","value":"\"Segoe UI\", wf_segoe-ui_normal, helvetica, arial, sans-serif"},{"displayName":"Segoe UI Light","value":"\"Segoe UI Light\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Symbol","value":"Symbol"},{"displayName":"Tahoma","value":"Tahoma"},{"displayName":"Times New Roman","value":"\"Times New Roman\""},{"displayName":"Trebuchet MS","value":"\"Trebuchet MS\""},{"displayName":"Verdana","value":"Verdana"},{"displayName":"Wingdings","value":"Wingdings"}]}},"realisation_text_show":{"displayName":"Show Libelle","type":{"bool":true}},"realisation_text":{"displayName":"Libelle","type":{"text":true}},"realisation_libelle_size":{"displayName":"Libelle Font Size","type":{"numeric":true}},"realisation_libelle_bold":{"displayName":"Libelle bold","type":{"bool":true}},"realisation_libelle_color":{"displayName":"Libelle couleur","type":{"fill":{"solid":{"color":true}}}},"realisation_decimal":{"displayName":"Value Decimals","type":{"numeric":true}},"realisation_font_size":{"displayName":"Value Font Size","type":{"numeric":true}},"realisation_color":{"displayName":"Value Color","type":{"fill":{"solid":{"color":true}}}},"realisation_bold":{"displayName":"Value Bold","type":{"bool":true}},"realisation_prct_show":{"displayName":"Show Prct","type":{"bool":true}},"realisation_prct_decimal":{"displayName":"Prct Decimals","type":{"numeric":true}},"realisation_prct_font_size":{"displayName":"Prct Font Size","type":{"numeric":true}},"realisation_prct_color":{"displayName":"Prct Color","type":{"fill":{"solid":{"color":true}}}},"realisation_prct_bold":{"displayName":"Prct Bold","type":{"bool":true}}}},"todo":{"displayName":"Reste à faire","properties":{"fontFamily":{"displayName":"Font family","type":{"enumeration":[{"displayName":"Default","description":"helvetica, arial, sans-serif","value":"helvetica, arial, sans-serif"},{"displayName":"Arial","value":"Arial"},{"displayName":"Arial Black","value":"\"Arial Black\""},{"displayName":"Arial Unicode MS","value":"\"Arial Unicode MS\""},{"displayName":"Calibri","value":"Calibri"},{"displayName":"Cambria","value":"Cambria"},{"displayName":"Cambria Math","value":"\"Cambria Math\""},{"displayName":"Candara","value":"Candara"},{"displayName":"Comic Sans MS","value":"\"Comic Sans MS\""},{"displayName":"Consolas","value":"Consolas"},{"displayName":"Constantia","value":"Constantia"},{"displayName":"Corbel","value":"Corbel"},{"displayName":"Courier New","value":"\"Courier New\""},{"displayName":"Georgia","value":"Georgia"},{"displayName":"Lucida Sans Unicode","value":"\"Lucida Sans Unicode\""},{"displayName":"Segoe (Bold)","value":"\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Segoe UI","value":"\"Segoe UI\", wf_segoe-ui_normal, helvetica, arial, sans-serif"},{"displayName":"Segoe UI Light","value":"\"Segoe UI Light\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Symbol","value":"Symbol"},{"displayName":"Tahoma","value":"Tahoma"},{"displayName":"Times New Roman","value":"\"Times New Roman\""},{"displayName":"Trebuchet MS","value":"\"Trebuchet MS\""},{"displayName":"Verdana","value":"Verdana"},{"displayName":"Wingdings","value":"Wingdings"}]}},"resteafaire_text":{"displayName":"A faire Text","type":{"text":true}},"resteafaire_color":{"displayName":"Couleur","type":{"fill":{"solid":{"color":true}}}},"resteafaire_decimal":{"displayName":"Decimales","type":{"text":true}},"resteafaire_libelle_size":{"displayName":"Libelle Size","type":{"numeric":true}},"resteafaire_libelle_bold":{"displayName":"Libelle Bold","type":{"bool":true}},"resteafaire_value_size":{"displayName":"Value Size","type":{"numeric":true}},"resteafaire_value_bold":{"displayName":"Value Bold","type":{"bool":true}}}},"objectifs":{"displayName":"Objectif","properties":{"fontFamily":{"displayName":"Font family","type":{"enumeration":[{"displayName":"Default","description":"helvetica, arial, sans-serif","value":"helvetica, arial, sans-serif"},{"displayName":"Arial","value":"Arial"},{"displayName":"Arial Black","value":"\"Arial Black\""},{"displayName":"Arial Unicode MS","value":"\"Arial Unicode MS\""},{"displayName":"Calibri","value":"Calibri"},{"displayName":"Cambria","value":"Cambria"},{"displayName":"Cambria Math","value":"\"Cambria Math\""},{"displayName":"Candara","value":"Candara"},{"displayName":"Comic Sans MS","value":"\"Comic Sans MS\""},{"displayName":"Consolas","value":"Consolas"},{"displayName":"Constantia","value":"Constantia"},{"displayName":"Corbel","value":"Corbel"},{"displayName":"Courier New","value":"\"Courier New\""},{"displayName":"Georgia","value":"Georgia"},{"displayName":"Lucida Sans Unicode","value":"\"Lucida Sans Unicode\""},{"displayName":"Segoe (Bold)","value":"\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Segoe UI","value":"\"Segoe UI\", wf_segoe-ui_normal, helvetica, arial, sans-serif"},{"displayName":"Segoe UI Light","value":"\"Segoe UI Light\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Symbol","value":"Symbol"},{"displayName":"Tahoma","value":"Tahoma"},{"displayName":"Times New Roman","value":"\"Times New Roman\""},{"displayName":"Trebuchet MS","value":"\"Trebuchet MS\""},{"displayName":"Verdana","value":"Verdana"},{"displayName":"Wingdings","value":"Wingdings"}]}},"objectif_text":{"displayName":"Objectif Text","type":{"text":true}},"objectif_color":{"displayName":"Objectif Fill","type":{"fill":{"solid":{"color":true}}}},"objectif_decimals":{"displayName":"Objectif Decimales","type":{"numeric":true}},"objectif_bold":{"displayName":"Objectif Bold","type":{"bool":true}},"objectif_font_size":{"displayName":"Objectif Font Size","type":{"numeric":true}},"objectif_bottom_size":{"displayName":"Bottom Size","type":{"numeric":true}}}},"ptPassage":{"displayName":"Point de passage","properties":{"show":{"type":{"bool":true}},"ptpassage_color":{"displayName":"Couleur","type":{"fill":{"solid":{"color":true}}}},"ptpassage_decimal":{"displayName":"Décimals","type":{"numeric":true}},"fontFamily":{"displayName":"Font family","type":{"enumeration":[{"displayName":"Default","description":"helvetica, arial, sans-serif","value":"helvetica, arial, sans-serif"},{"displayName":"Arial","value":"Arial"},{"displayName":"Arial Black","value":"\"Arial Black\""},{"displayName":"Arial Unicode MS","value":"\"Arial Unicode MS\""},{"displayName":"Calibri","value":"Calibri"},{"displayName":"Cambria","value":"Cambria"},{"displayName":"Cambria Math","value":"\"Cambria Math\""},{"displayName":"Candara","value":"Candara"},{"displayName":"Comic Sans MS","value":"\"Comic Sans MS\""},{"displayName":"Consolas","value":"Consolas"},{"displayName":"Constantia","value":"Constantia"},{"displayName":"Corbel","value":"Corbel"},{"displayName":"Courier New","value":"\"Courier New\""},{"displayName":"Georgia","value":"Georgia"},{"displayName":"Lucida Sans Unicode","value":"\"Lucida Sans Unicode\""},{"displayName":"Segoe (Bold)","value":"\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Segoe UI","value":"\"Segoe UI\", wf_segoe-ui_normal, helvetica, arial, sans-serif"},{"displayName":"Segoe UI Light","value":"\"Segoe UI Light\", wf_segoe-ui_bold, helvetica, arial, sans-serif"},{"displayName":"Symbol","value":"Symbol"},{"displayName":"Tahoma","value":"Tahoma"},{"displayName":"Times New Roman","value":"\"Times New Roman\""},{"displayName":"Trebuchet MS","value":"\"Trebuchet MS\""},{"displayName":"Verdana","value":"Verdana"},{"displayName":"Wingdings","value":"Wingdings"}]}},"ptpassage_text":{"displayName":"Libelle","type":{"text":true}},"ptpassage_libelle_size":{"displayName":"Libelle Font Size","type":{"numeric":true}},"ptpassage_libelle_bold":{"displayName":"Libelle Bold ?","type":{"bool":true}},"ptpassage_value_size":{"displayName":"Value Font Size","type":{"numeric":true}},"ptpassage_value_bold":{"displayName":"Value Bold ?","type":{"bool":true}},"ptpassage_prct_visible":{"displayName":"Pourcentage ?","type":{"bool":true}},"ptpassage_prct_text":{"displayName":"Prct font size","type":{"text":true}},"ptpassage_prct_font_size":{"displayName":"Prct font size","type":{"numeric":true}}}}}},"stringResources":{},"content":{"js":"var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,a){void 0===t&&(t=[]);var s=t;return i(s),e&&(s.identityFields=e),a&&(s.source=a),s}function i(t,e){t.grouped=e?function(){return e}:function(){return a(t)}}function a(t){for(var e,i=[],a=0,s=t.length;s>a;a++){var n=t[a];if(!e||e.identity!==n.identity){if(e={values:[]},n.identity){e.identity=n.identity;var r=n.source;void 0!==r.groupName?e.name=r.groupName:r.displayName&&(e.name=r.displayName)}i.push(e)}e.values.push(n)}return i}t.createValueColumns=e,t.setGrouped=i,t.groupValues=a}(e=t.DataViewTransform||(t.DataViewTransform={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(!t||!t.length)return-1;var i=t[0];if(i.values&&i.values.length>0)for(var s=0,n=i.values.length;n>s;++s){var r=i.values[s];if(r&&r.source&&a(r.source,e))return s}return-1}function i(t,e){if(t&&t.length)for(var i=0,s=t.length;s>i;i++)if(a(t[i].source,e))return i;return-1}function a(t,e){var i=t.roles;return i&&i[e]}function s(t,e){return null!=t&&null!=t.metadata&&t.metadata.columns&&t.metadata.columns.some(function(t){return t.roles&&void 0!==t.roles[e]})}function n(t,e){return t&&t.source&&t.source.roles&&t.source.roles[e]===!0}t.getMeasureIndexOfRole=e,t.getCategoryIndexOfRole=i,t.hasRole=a,t.hasRoleInDataView=s,t.hasRoleInValueColumn=n}(e=t.DataRoleHelper||(t.DataRoleHelper={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i){if(!t)return i;var a=t[e];return void 0===a?i:a}function i(t,i,a){var s=e(t,i);return s&&s.solid?s.solid.color:a}t.getValue=e,t.getFillColorByPropertyName=i}(e=t.DataViewObject||(t.DataViewObject={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function i(e,i,a){return e?t.DataViewObject.getValue(e[i.objectName],i.propertyName,a):a}function a(t,e,i){return t&&t[e]?t[e]:i}function s(t,e,a){var s=i(t,e);return s&&s.solid?s.solid.color:a}function n(t,e,a){var s=i(t,e,a);return s&&s.solid?s.solid.color:void 0===s||null===s||\"object\"==typeof s&&!s.solid?a:s}e.getValue=i,e.getObject=a,e.getFillColor=s,e.getCommonValue=n}(e=t.DataViewObjects||(t.DataViewObjects={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){var i,a=t.extensibility.utils.dataview.DataRoleHelper;!function(t){function e(t,e,i){if(t.categories&&t.categories.length>0){var s=t.categories[0];return s.source&&a.hasRole(s.source,e)&&a.hasRole(s.source,i)}return!1}function i(t){return void 0!==t.groupName?t.groupName:t.queryName}function s(t){var e=r(t);return null!=e&&e.imageUrl===!0}function n(t){var e=r(t);return null!=e&&e.webUrl===!0}function r(t){return t&&t.type&&t.type.misc}function o(t){return t&&t.metadata&&t.metadata.columns&&t.metadata.columns.length?t.metadata.columns.some(function(t){return s(t)===!0}):!1}t.categoryIsAlsoSeriesRole=e,t.getSeriesName=i,t.isImageUrlColumn=s,t.isWebUrlColumn=n,t.getMiscellaneousTypeDescriptor=r,t.hasImageUrlColumn=o}(i=e.converterHelper||(e.converterHelper={}))}(i=e.dataview||(e.dataview={}))}(i=e.utils||(e.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){}return e.getDefault=function(){return new this},e.createPropertyIdentifier=function(t,e){return{objectName:t,propertyName:e}},e.parse=function(e){var i,a=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return a;i=a.getProperties();for(var s in i)for(var n in i[s]){var r=a[s][n];a[s][n]=t.DataViewObjects.getCommonValue(e.metadata.objects,i[s][n],r)}return a},e.isPropertyEnumerable=function(t){return!e.InnumerablePropertyPrefix.test(t)},e.enumerateObjectInstances=function(t,e){var i=t&&t[e.objectName];if(!i)return[];var a={objectName:e.objectName,selector:null,properties:{}};for(var s in i)i.hasOwnProperty(s)&&(a.properties[s]=i[s]);return{instances:[a]}},e.prototype.getProperties=function(){var t=this,i={},a=Object.keys(this);return a.forEach(function(a){if(e.isPropertyEnumerable(a)){var s=Object.keys(t[a]);i[a]={},s.forEach(function(t){e.isPropertyEnumerable(a)&&(i[a][t]=e.createPropertyIdentifier(a,t))})}}),i},e}();e.InnumerablePropertyPrefix=/^_/,t.DataViewObjectsParser=e}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var d3=window.d3,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),powerbi;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){\"use strict\";var i=t.extensibility.utils.dataview.DataViewObjectsParser,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataDisplay=new s,e.dataOption=new n,e.realisation=new o,e.objectifs=new l,e.todo=new c,e.ptPassage=new r,e}return __extends(e,t),e}(i);e.VisualSettings=a;var s=function(){function t(){this.backColor=\"#D3D3D3\",this.fill=\"#16B1E6\",this.bar_height=30,this.horizontal_margin=30}return t}();e.dataDisplaySettings=s;var n=function(){function t(){this.rstAFaire=!0,this.prctMode=!1,this.prctMultiPlicateur=!1,this.calculAuto=!1}return t}();e.dataOptionSettings=n;var r=function(){function t(){this.show=!0,this.ptpassage_color=\"#003C82\",this.ptpassage_decimal=0,this.fontFamily='\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif',this.ptpassage_text=\"Point de passage\",this.ptpassage_libelle_size=16,this.ptpassage_libelle_bold=!1,this.ptpassage_value_size=36,this.ptpassage_value_bold=!1,this.ptpassage_prct_visible=!0,this.ptpassage_prct_text=\"du point de passage\",this.ptpassage_prct_font_size=18}return t}();e.PtPassageSettings=r;var o=function(){function t(){this.fontFamily='\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif',this.realisation_text_show=!1,this.realisation_text=\"Réalisation\",this.realisation_libelle_size=16,this.realisation_libelle_bold=!1,this.realisation_libelle_color=\"#003C82\",this.realisation_decimal=0,this.realisation_font_size=61,this.realisation_color=\"#000\",this.realisation_bold=!1,this.realisation_prct_show=!1,this.realisation_prct_decimal=0,this.realisation_prct_font_size=25,this.realisation_prct_color=\"#000\",this.realisation_prct_bold=!1}return t}();e.RealisationSettings=o;var l=function(){function t(){this.fontFamily='\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif',this.objectif_decimals=0,this.objectif_text=\"Objectif:\",this.objectif_color=\"#1b5e20\",this.objectif_bold=!1,this.objectif_font_size=16,this.objectif_bottom_size=36}return t}();e.ObjectifSettings=l;var c=function(){function t(){this.fontFamily='\"Segoe UI Bold\", wf_segoe-ui_bold, helvetica, arial, sans-serif',this.resteafaire_text=\"Reste à faire\",this.resteafaire_color=\"#424242\",this.resteafaire_decimal=0,this.resteafaire_libelle_size=16,this.resteafaire_libelle_bold=!1,this.resteafaire_value_size=36,this.resteafaire_value_bold=!1}return t}();e.TodoSettings=c}(i=e.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5||(e.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5={}))}(i=e.visual||(e.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){\"use strict\";var e=function(){function t(t){this.element=t,this.data={},this.getvalue=function(t,e){return t[e]&&\"function\"==typeof t[e]?t[e]():t[e]},t.attributes;for(var e=t.querySelectorAll(\"*\"),i=0;i<e.length;i++)e[i].id&&(this.data[e[i].id]=e[i])}return t.prototype.update=function(t){var e=this;t.forEach(function(t){var i=e.data[t.id],a=!1;if(void 0!==t.visible?(i.style.visibility=e.getvalue(t,\"visible\")?\"visible\":\"collapse\",a=!0):a=!0,a){if(void 0!==t.value){var s=e.getvalue(t,\"value\");i.innerHTML=s?String(s):\"\"}if(void 0!==t.attr)for(var n in t.attr){var r=e.getvalue(t.attr,n);e.getvalue(t.attr,n)?i.setAttribute(n,r):i.removeAttribute(n)}if(void 0!==t.style)for(var o in t.style){var r=e.getvalue(t.style,o);i.style[o]=r?r:\"\"}if(void 0!==t.svgtext){var r=\"function\"==typeof t.svgtext?t.svgtext():t.svgtext;i.childNodes[0].nodeValue=r}}})},t}();t.DomEngine=e}(e=t.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5||(t.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5={}))}(e=t.visual||(t.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){\"use strict\";var e=function(){function e(e){try{this.visual_top=document.createElement(\"div\"),this.visual_top.className=\"visual_top\",e.element.appendChild(this.visual_top);var i='\\n                <div class=\"container\">\\n                    <div class=\"left_container\" id=\"left_container\">\\n                        <div class=\"current_value_container\">\\n                            <div id=\"current_value_libelle\"></div>\\n                            <div id=\"current_value\"></div>\\n                        </div>\\n                        <div id=\"percent_value\" class=\"percent_value\"></div>\\n                    </div>\\n                    <div class=\"right_container\" id=\"right_container\">\\n                        <div id=\"reste_value\"></div>\\n                        <div id=\"reste_legend\"></div>\\n                    </div>\\n                </div>\\n                <svg id=\"svg\">\\n                    <rect id=\"back_rectangle\"></rect>\\n                    <rect id=\"front_rectangle\"></rect>\\n                    <line id=\"objectif_rectangle\" width=\"3\" y1=\"0\" stroke-width=\"1\"></line>\\n                    <text id=\"zero_text\" text-anchor=\"right\">0</text>\\n                    <polygon id=\"objectif_triangle\" points=\"0 0,7 10,-7 10\"></polygon>\\n                    <text id=\"objectif_text\">t</text>\\n                    <line id=\"ptpassage_rectangle\" y1=\"0\" stroke-width=\"3\" stroke-dasharray=\"5,5\"></line>\\n                </svg>\\n                <div id=\"ptpassage_container\" class=\"ptpassage_container\">\\n                    <div id=\"ptpassage_value\"></div>\\n                    <div id=\"ptpassage_legend\"></div>\\n                    <div id=\"ptpassage_prct\"></div>\\n                </div>\\n            ';this.visual_top.innerHTML=i,this.engine=new t.DomEngine(this.visual_top)}catch(a){console.error(\"Constructor Error\",a)}}return e.prototype.update=function(t){var i=this;try{this.settings=e.parseSettings(t&&t.dataViews&&t.dataViews[0]),this.visual_top.setAttribute(\"style\",\"height:\"+t.viewport.height+\"px;margin: 0 \"+this.settings.dataDisplay.horizontal_margin+\"px\");var a=this.visual_top.clientWidth,s=this.settings,n=e.getvalue(t.dataViews[0].categorical,\"measure\"),r=e.getvalue(t.dataViews[0].categorical,\"objectif_measure\"),o=+e.getvalue(t.dataViews[0].categorical,\"pt_passage_measure\"),l=+e.getvalue(t.dataViews[0].categorical,\"todo_measure\"),c=+e.getvalue(t.dataViews[0].categorical,\"prct_measure\"),u=+e.getvalue(t.dataViews[0].categorical,\"prct_passage_measure\");if(this.settings.dataOption.calculAuto){r&&(c=n/r*100),o&&(u=n/o*100);var p=r-n;l=0>p?0:p}else c&&this.settings.dataOption.prctMultiPlicateur&&(c*=100,u*=100);var f=a-10*a/100,d=0,g=0;n>r?(d=f,g=r/n*f):(d=c/100*f,g=f);var v=o/r*g,_=this.settings.dataOption.prctMode?\" %\":\"\",b=[{id:\"left_container\",style:{fontFamily:this.settings.realisation.fontFamily}},{id:\"current_value_libelle\",visible:!!this.settings.realisation.realisation_text&&!!n,value:this.settings.realisation.realisation_text,style:{color:this.settings.realisation.realisation_libelle_color,fontSize:this.settings.realisation.realisation_libelle_size+\"px\",fontWeight:this.settings.realisation.realisation_libelle_bold?\"bold\":\"normal\",display:function(){return i.settings.realisation.realisation_text_show?\"block\":\"none\"}}},{id:\"current_value\",visible:!!n,value:function(){if(n){var t=s.dataOption.prctMode&&s.dataOption.prctMultiPlicateur?100*n:+n;return t.toLocaleString(void 0,{minimumFractionDigits:s.realisation.realisation_decimal,maximumFractionDigits:s.realisation.realisation_decimal})+_}},style:{fontSize:this.settings.realisation.realisation_font_size+\"px\",color:this.settings.realisation.realisation_color,fontWeight:this.settings.realisation.realisation_bold?\"bold\":\"normal\"}},{id:\"percent_value\",visible:!!c&&!this.settings.dataOption.prctMode,value:function(){return c?(+c).toLocaleString(void 0,{minimumFractionDigits:s.realisation.realisation_prct_decimal,maximumFractionDigits:s.realisation.realisation_prct_decimal})+\" %\":void 0},style:{color:this.settings.realisation.realisation_prct_color,fontSize:this.settings.realisation.realisation_prct_font_size+\"px\",fontWeight:this.settings.realisation.realisation_prct_bold?\"bold\":\"normal\",display:function(){return i.settings.realisation.realisation_prct_show?\"block\":\"none\"}}},{id:\"right_container\",style:{fontFamily:this.settings.todo.fontFamily,color:this.settings.todo.resteafaire_color}},{id:\"reste_legend\",visible:!!this.settings.todo.resteafaire_text&&(!!l||0===l)&&this.settings.dataOption.rstAFaire,value:this.settings.todo.resteafaire_text,style:{fontSize:this.settings.todo.resteafaire_libelle_size+\"px\",fontWeight:this.settings.todo.resteafaire_libelle_bold?\"bold\":\"normal\"}},{id:\"reste_value\",visible:(!!l||0===l)&&this.settings.dataOption.rstAFaire,value:function(){if(l||0===l){var t=s.dataOption.prctMode&&s.dataOption.prctMultiPlicateur?100*l:+l;return t.toLocaleString(void 0,{minimumFractionDigits:s.todo.resteafaire_decimal,maximumFractionDigits:s.todo.resteafaire_decimal})+_}},style:{fontSize:this.settings.todo.resteafaire_value_size+\"px\",fontWeight:this.settings.todo.resteafaire_value_bold?\"bold\":\"normal\"}},{id:\"svg\",attr:{width:a,height:this.settings.dataDisplay.bar_height+s.objectifs.objectif_bottom_size}},{id:\"back_rectangle\",attr:{width:a,height:this.settings.dataDisplay.bar_height,fill:this.settings.dataDisplay.backColor}},{id:\"front_rectangle\",attr:{width:d,height:this.settings.dataDisplay.bar_height,fill:this.settings.dataDisplay.fill}},{id:\"zero_text\",visible:g>15,attr:{y:this.settings.dataDisplay.bar_height+16}},{id:\"objectif_rectangle\",visible:!!r,attr:{x1:g,x2:g,y2:this.settings.dataDisplay.bar_height,stroke:this.settings.objectifs.objectif_color}},{id:\"objectif_triangle\",visible:!!r,attr:{transform:function(){return\"translate(\"+g+\",\"+(s.dataDisplay.bar_height+2)+\")\"},fill:this.settings.objectifs.objectif_color}},{id:\"objectif_text\",visible:!!r,attr:{\"text-anchor\":100>g?\"right\":\"middle\",fill:this.settings.objectifs.objectif_color,x:g,y:this.settings.dataDisplay.bar_height+s.objectifs.objectif_bottom_size-4},svgtext:function(){if(r){var t=s.dataOption.prctMode&&s.dataOption.prctMultiPlicateur?100*r:r;return s.objectifs.objectif_text+\" \"+t.toLocaleString(void 0,{minimumFractionDigits:s.objectifs.objectif_decimals,maximumFractionDigits:s.objectifs.objectif_decimals})+_}},style:{fontSize:this.settings.objectifs.objectif_font_size+\"px\",fontWeight:this.settings.objectifs.objectif_bold?\"500\":\"100\",fontFamily:this.settings.objectifs.fontFamily}},{id:\"ptpassage_rectangle\",visible:this.settings.ptPassage.show&&o,attr:{y2:this.settings.dataDisplay.bar_height+s.objectifs.objectif_bottom_size,x1:v,x2:v,stroke:this.settings.ptPassage.ptpassage_color}},{id:\"ptpassage_value\",visible:this.settings.ptPassage.show&&o,value:function(){if(o){var t=s.dataOption.prctMode&&s.dataOption.prctMultiPlicateur?100*o:+o;return t.toLocaleString(void 0,{minimumFractionDigits:s.ptPassage.ptpassage_decimal,maximumFractionDigits:s.ptPassage.ptpassage_decimal})+_}},style:{fontSize:this.settings.ptPassage.ptpassage_value_size+\"px\",fontWeight:this.settings.ptPassage.ptpassage_value_bold?\"bold\":\"normal\"}},{id:\"ptpassage_prct\",visible:!!u||0===u,value:function(){return u||0===u?\"<b>\"+(+u).toLocaleString(void 0,{minimumFractionDigits:s.realisation.realisation_prct_decimal,maximumFractionDigits:s.realisation.realisation_prct_decimal})+\"%</b> \"+i.settings.ptPassage.ptpassage_prct_text:void 0},style:{fontSize:this.settings.ptPassage.ptpassage_prct_font_size+\"px\",display:function(){return i.settings.ptPassage.ptpassage_prct_visible?\"block\":\"none\"}}},{id:\"ptpassage_legend\",value:this.settings.ptPassage.ptpassage_text,style:{fontSize:this.settings.ptPassage.ptpassage_libelle_size+\"px\",fontWeight:this.settings.ptPassage.ptpassage_libelle_bold?\"bold\":\"normal\"}},{id:\"ptpassage_container\",style:{display:function(){return i.settings.ptPassage.show&&o?\"block\":\"none\"},color:this.settings.ptPassage.ptpassage_color,\"margin-left\":function(){var t=v-75;return t=0>t?0:t,t=t>a-75?a-150:t,t+\"px\"},fontFamily:this.settings.ptPassage.fontFamily}}];this.engine.update(b)}catch(h){console.error(\"Update error\",h)}},e.parseSettings=function(e){return t.VisualSettings.parse(e)},e.getvalue=function(t,e){var i=t.values.filter(function(t){return t.source.roles[e]}).map(function(t){return t.values[0]});return i&&1===i.length?i[0]:void 0},e.prototype.enumerateObjectInstances=function(e){var i=t.VisualSettings.enumerateObjectInstances(this.settings||t.VisualSettings.getDefault(),e);return\"realisation\"===i.instances[0].objectName&&(i.instances[0].properties.realisation_text_show===!1&&(delete i.instances[0].properties.realisation_text,delete i.instances[0].properties.realisation_libelle_size,delete i.instances[0].properties.realisation_libelle_bold,delete i.instances[0].properties.realisation_libelle_color),i.instances[0].properties.realisation_prct_show===!1&&(delete i.instances[0].properties.realisation_prct_decimal,delete i.instances[0].properties.realisation_prct_font_size,delete i.instances[0].properties.realisation_prct_color,delete i.instances[0].properties.realisation_prct_bold)),\"ptPassage\"===i.instances[0].objectName&&i.instances[0].properties.ptpassage_prct_visible===!1&&(delete i.instances[0].properties.ptpassage_prct_text,delete i.instances[0].properties.ptpassage_prct_font_size),i},e}();t.Visual=e}(e=t.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5||(t.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5={}))}(e=t.visual||(t.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var i;!function(e){e.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5={name:\"pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5\",displayName:\"flatprogress\",\"class\":\"Visual\",version:\"1.0.0\",apiVersion:\"1.11.0\",create:function(e){return new t.extensibility.visual.pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5.Visual(e)},custom:!0}}(i=e.plugins||(e.plugins={}))}(e=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));","css":".visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .visual_top{display:flex;flex-direction:column;justify-content:center}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .container{display:flex;justify-content:space-between;margin-bottom:4px}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .left_container{display:flex;align-items:baseline;align-items:flex-end}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .current_value_container{display:flex;flex-direction:column}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .right_container{display:flex;flex-direction:column;justify-content:center;align-items:center}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .percent_value{margin-left:16px;margin-bottom:8px}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 .ptpassage_container{width:150px;text-align:center}.visual-pbiflatprogress111DDC2C0F0D0384236A63C11C134C5CDB5 #ptpassage_prct{margin-top:8px;font-size:1.1em}","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNpiYBhxgBFK/ycgT3cD/5PrAMIuFNv47D8lBuxVeovCZ6K2C0cNHIQGDhj4jyc3DQ4DRwFuABBgAPyFC4TULc3MAAAAAElFTkSuQmCC"}}